<template>
  <svg
    id="logoText"
    viewBox="0 0 377 44"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    xml:space="preserve"
    x="0px"
    y="0px"
    style="enable-background:new 0 0 377 44"
  >
    <polyline
      id="m1"
      points="35.672 42.112 35.672 5.488 18.424 29.792 18.312 29.792 1.12 5.544 1.12 42.112"
      class="logo__text__path m1"
      :class="{ 'logo__line--active': m1 }"
    />
    <path
      id="a1"
      d="M62.546,20.96 L62.546,42.128 M52.578,41.512 C54.4073425,41.512 56.0779924,41.1013374 57.59,40.28 C59.1020076,39.4586626 60.3059955,38.3200073 61.202,36.864 C62.0980045,35.4079927 62.546,33.784009 62.546,31.992 L62.546,29.696 C62.0979978,27.3813218 60.9313428,25.4306746 59.046,23.844 C57.1606572,22.2573254 55.0046788,21.464 52.578,21.464 C50.7486575,21.464 49.0780076,21.8746626 47.566,22.696 C46.0539924,23.5173374 44.8593377,24.6933257 43.982,26.224 C43.1046623,27.7546743 42.666,29.5093234 42.666,31.488 C42.666,33.3173425 43.1139955,34.9973257 44.01,36.528 C44.9060045,38.0586743 46.1099924,39.2719955 47.622,40.168 C49.1340076,41.0640045 50.785991,41.512 52.578,41.512 Z"
      class="logo__text__path a1"
      :class="{ 'logo__line--active': a1 }"
    />
    <path
      id="s1"
      d="M71.046,39.2 C71.6060028,39.9093369 72.4179947,40.4879978 73.482,40.936 C74.5460053,41.3840022 75.6939938,41.608 76.926,41.608 C78.4566743,41.608 79.7633279,41.2160039 80.846,40.432 C81.9286721,39.6479961 82.47,38.3973419 82.47,36.68 C82.47,35.6346614 82.1900028,34.7853366 81.63,34.132 C81.0699972,33.4786634 80.4166704,32.9840017 79.67,32.648 C78.9233296,32.3119983 77.8406738,31.9200022 76.422,31.472 C74.7419916,30.8746637 73.4540045,30.1933372 72.558,29.428 C71.6619955,28.6626628 71.214,27.5333408 71.214,26.04 C71.214,24.3599916 71.7833276,23.0440048 72.922,22.092 C74.0606724,21.1399952 75.4139922,20.664 76.982,20.664 C77.9526715,20.664 78.9699947,20.8693313 80.034,21.28 C81.0980053,21.6906687 82.0033296,22.3066626 82.75,23.128"
      class="logo__text__path s1"
      :class="{ 'logo__line--active': s1 }"
    />
    <path
      id="a2"
      d="M110.626,20.96 L110.626,42.128 M100.658,41.512 C102.487342,41.512 104.157992,41.1013374 105.67,40.28 C107.182008,39.4586626 108.385996,38.3200073 109.282,36.864 C110.178004,35.4079927 110.626,33.784009 110.626,31.992 L110.626,29.696 C110.177998,27.3813218 109.011343,25.4306746 107.126,23.844 C105.240657,22.2573254 103.084679,21.464 100.658,21.464 C98.8286575,21.464 97.1580076,21.8746626 95.646,22.696 C94.1339924,23.5173374 92.9393377,24.6933257 92.062,26.224 C91.1846623,27.7546743 90.746,29.5093234 90.746,31.488 C90.746,33.3173425 91.1939955,34.9973257 92.09,36.528 C92.9860045,38.0586743 94.1899924,39.2719955 95.702,40.168 C97.2140076,41.0640045 98.865991,41.512 100.658,41.512 Z"
      class="logo__text__path a2"
      :class="{ 'logo__line--active': a2 }"
    />
    <path
      id="a3"
      d="M139.006,20.96 L139.006,42.128 M129.038,41.512 C130.867342,41.512 132.537992,41.1013374 134.05,40.28 C135.562008,39.4586626 136.765996,38.3200073 137.662,36.864 C138.558004,35.4079927 139.006,33.784009 139.006,31.992 L139.006,29.696 C138.557998,27.3813218 137.391343,25.4306746 135.506,23.844 C133.620657,22.2573254 131.464679,21.464 129.038,21.464 C127.208658,21.464 125.538008,21.8746626 124.026,22.696 C122.513992,23.5173374 121.319338,24.6933257 120.442,26.224 C119.564662,27.7546743 119.126,29.5093234 119.126,31.488 C119.126,33.3173425 119.573996,34.9973257 120.47,36.528 C121.366004,38.0586743 122.569992,39.2719955 124.082,40.168 C125.594008,41.0640045 127.245991,41.512 129.038,41.512 Z"
      class="logo__text__path a3"
      :class="{ 'logo__line--active': a3 }"
    />
    <path
      id="k1"
      d="M148.006,2.84217094e-14 L148.006,32.088 L160.382,20.552 M152.626,27.7767473 L162.816754,41.9264149 M148.006,32.082 L148.006,42.112"
      class="logo__text__path k1"
      :class="{ 'logo__line--active': k1 }"
    />
    <path
      id="i1"
      d="M171.488,42.112 L171.488,20.944 M170.816,13.548 C170.816,13.4116357 170.864148,13.2942126 170.960444,13.1957273 C171.056741,13.0972419 171.178962,13.048 171.327111,13.048 C171.460445,13.048 171.575259,13.0972419 171.671556,13.1957273 C171.767852,13.2942126 171.816,13.4116357 171.816,13.548 C171.816,13.6843643 171.767852,13.8017874 171.671556,13.9002727 C171.575259,13.9987581 171.460445,14.048 171.327111,14.048 C171.193777,14.048 171.07526,13.9949702 170.971556,13.8889091 C170.867851,13.782848 170.816,13.6692127 170.816,13.548 Z"
      class="logo__text__path i1"
      :class="{ 'logo__line--active': i1 }"
    />
    <path
      id="t1"
      d="M189.446,2.8 L214.982,2.8 L214.982,2.8 M201.654,42.112 L201.654,2.802"
      class="logo__text__path t1"
      :class="{ 'logo__line--active': t1 }"
    />
    <path
      id="o1"
      d="M214.986,31.472 C214.986,29.4559899 215.480662,27.6080084 216.47,25.928 C217.459338,24.2479916 218.793992,22.9133383 220.474,21.924 C222.154008,20.9346617 224.00199,20.44 226.018,20.44 C228.03401,20.44 229.891325,20.9346617 231.59,21.924 C233.288675,22.9133383 234.632662,24.2479916 235.622,25.928 C236.611338,27.6080084 237.106,29.4559899 237.106,31.472 C237.106,33.4880101 236.611338,35.3359916 235.622,37.016 C234.632662,38.6960084 233.288675,40.0213285 231.59,40.992 C229.891325,41.9626715 228.03401,42.448 226.018,42.448 C224.00199,42.448 222.144675,41.9720048 220.446,41.02 C218.747325,40.0679952 217.412672,38.7520084 216.442,37.072 C215.471328,35.3919916 214.986,33.5253436 214.986,31.472 Z"
      class="logo__text__path o1"
      :class="{ 'logo__line--active': o1 }"
    />
    <path
      id="d1"
      d="M264.966,0 L264.966,42.112 M255.018,41.496 C256.810009,41.496 258.471326,41.066671 260.002,40.208 C261.532674,39.349329 262.745996,38.182674 263.642,36.708 C264.538004,35.233326 264.986,33.600009 264.986,31.808 L264.986,29.96 C264.724665,28.3919922 264.118005,26.9640064 263.166,25.676 C262.213995,24.3879936 261.028674,23.3613372 259.61,22.596 C258.191326,21.8306628 256.660675,21.448 255.018,21.448 C253.188658,21.448 251.518008,21.8679958 250.006,22.708 C248.493992,23.5480042 247.299338,24.7333257 246.422,26.264 C245.544662,27.7946743 245.106,29.530657 245.106,31.472 C245.106,33.3013425 245.553996,34.9813257 246.45,36.512 C247.346004,38.0426743 248.549992,39.2559955 250.062,40.152 C251.574008,41.0480045 253.225991,41.496 255.018,41.496 Z"
      class="logo__text__path d1"
      :class="{ 'logo__line--active': d1 }"
    />
    <path
      id="o2"
      d="M273.466,31.472 C273.466,29.4559899 273.960662,27.6080084 274.95,25.928 C275.939338,24.2479916 277.273992,22.9133383 278.954,21.924 C280.634008,20.9346617 282.48199,20.44 284.498,20.44 C286.51401,20.44 288.371325,20.9346617 290.07,21.924 C291.768675,22.9133383 293.112662,24.2479916 294.102,25.928 C295.091338,27.6080084 295.586,29.4559899 295.586,31.472 C295.586,33.4880101 295.091338,35.3359916 294.102,37.016 C293.112662,38.6960084 291.768675,40.0213285 290.07,40.992 C288.371325,41.9626715 286.51401,42.448 284.498,42.448 C282.48199,42.448 280.624675,41.9720048 278.926,41.02 C277.227325,40.0679952 275.892672,38.7520084 274.922,37.072 C273.951328,35.3919916 273.466,33.5253436 273.466,31.472 Z"
      class="logo__text__path o2"
      :class="{ 'logo__line--active': o2 }"
    />
    <path
      id="r1"
      d="M313.158,21.56 C311.515325,21.634667 310.00334,22.0266631 308.622,22.736 C307.24066,23.4453369 306.139337,24.4253271 305.318,25.676 C304.496663,26.9266729 304.086,28.3359922 304.086,29.904 M304.086,42.112 L304.086,20.944"
      class="logo__text__path r1"
      :class="{ 'logo__line--active': r1 }"
    />
    <path
      id="o3"
      d="M321.156,31.472 C321.156,29.4559899 321.650662,27.6080084 322.64,25.928 C323.629338,24.2479916 324.963992,22.9133383 326.644,21.924 C328.324008,20.9346617 330.17199,20.44 332.188,20.44 C334.20401,20.44 336.061325,20.9346617 337.76,21.924 C339.458675,22.9133383 340.802662,24.2479916 341.792,25.928 C342.781338,27.6080084 343.276,29.4559899 343.276,31.472 C343.276,33.4880101 342.781338,35.3359916 341.792,37.016 C340.802662,38.6960084 339.458675,40.0213285 337.76,40.992 C336.061325,41.9626715 334.20401,42.448 332.188,42.448 C330.17199,42.448 328.314675,41.9720048 326.616,41.02 C324.917325,40.0679952 323.582672,38.7520084 322.612,37.072 C321.641328,35.3919916 321.156,33.5253436 321.156,31.472 Z"
      class="logo__text__path o3"
      :class="{ 'logo__line--active': o3 }"
    />
    <path
      id="k2"
      d="M351.776,0 L351.776,32.088 L364.152,20.552 M356.396,27.772 L366.586,41.922 M351.776,32.082 L351.776,42.112"
      class="logo__text__path k2"
      :class="{ 'logo__line--active': k2 }"
    />
    <path
      id="i2"
      d="M375.258,42.112 L375.258,20.944 M374.586,13.548 C374.586,13.4116357 374.634148,13.2942126 374.730444,13.1957273 C374.826741,13.0972419 374.948962,13.048 375.097111,13.048 C375.230445,13.048 375.345259,13.0972419 375.441556,13.1957273 C375.537852,13.2942126 375.586,13.4116357 375.586,13.548 C375.586,13.6843643 375.537852,13.8017874 375.441556,13.9002727 C375.345259,13.9987581 375.230445,14.048 375.097111,14.048 C374.963777,14.048 374.84526,13.9949702 374.741556,13.8889091 C374.637851,13.782848 374.586,13.6692127 374.586,13.548 Z"
      class="logo__text__path i2"
      :class="{ 'logo__line--active': i2 }"
    />
  </svg>
</template>

<script>
import { mapGetters } from 'vuex'

export default {
  data() {
    return {
      m1: false,
      a1: false,
      s1: false,
      a2: false,
      a3: false,
      k1: false,
      i1: false,
      t1: false,
      o1: false,
      d1: false,
      o2: false,
      r1: false,
      o3: false,
      k2: false,
      i2: false
    }
  },
  computed: {
    ...mapGetters({
      loadedIndex: 'loadedIndex',
      loadedAbout: 'loadedAbout'
    })
  },
  watch: {
    async loadedIndex() {
      await this.$_delay(500)
      this.m1 = true
      await this.$_delay(150)
      this.a1 = true
      await this.$_delay(150)
      this.s1 = true
      await this.$_delay(150)
      this.a2 = true
      await this.$_delay(150)
      this.a3 = true
      await this.$_delay(150)
      this.k1 = true
      await this.$_delay(150)
      this.i1 = true
      await this.$_delay(150)
      this.t1 = true
      await this.$_delay(150)
      this.o1 = true
      await this.$_delay(150)
      this.d1 = true
      await this.$_delay(150)
      this.o2 = true
      await this.$_delay(150)
      this.r1 = true
      await this.$_delay(150)
      this.o3 = true
      await this.$_delay(150)
      this.k2 = true
      await this.$_delay(150)
      this.i2 = true
    },
    async loadedAbout() {
      await this.$_delay(3500)
      this.m1 = true
      await this.$_delay(150)
      this.a1 = true
      await this.$_delay(150)
      this.s1 = true
      await this.$_delay(150)
      this.a2 = true
      await this.$_delay(150)
      this.a3 = true
      await this.$_delay(150)
      this.k1 = true
      await this.$_delay(150)
      this.i1 = true
      await this.$_delay(150)
      this.t1 = true
      await this.$_delay(150)
      this.o1 = true
      await this.$_delay(150)
      this.d1 = true
      await this.$_delay(150)
      this.o2 = true
      await this.$_delay(150)
      this.r1 = true
      await this.$_delay(150)
      this.o3 = true
      await this.$_delay(150)
      this.k2 = true
      await this.$_delay(150)
      this.i2 = true
    }
  }
}
</script>

<style lang="scss" scoped>
svg {
  .logo__text__path {
    fill: none;
    stroke: $text-color;
    stroke-width: 0px;
    &.logo__line--active {
      animation: svgAnim 0.2s linear 0s forwards;
    }
  }
}

@keyframes svgAnim {
  100% {
    stroke-dashoffset: 0;
    stroke-width: 1px;
  }
}
</style>
